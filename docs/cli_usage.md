# CLI Usage

The Py++ CLI can initialize Py++ projects, transpile your code to C++, and build and run the generated C++ CMake project (if you don't want to use the cmake commands directly).

## Primary Workflow

You can initialize your Py++ project in your current directory with:

```console
pypp init
```

This will give you a `python` directory where the code you write will go, a `cpp` directory where the C++ code will be generated to, a `resources` directory where your program can load files from, and a `pypp_files` directory which holds Py++ project metadata.

Once you have some code written, or are using the example code generated by `init`, you can transpile your project to C++ with:

```console
pypp do transpile
```

It is also useful to format your code at the same time as transpiling, otherwise the generated code will be just a few long lines and unreadable. So, instead of the above command, you can transpile and format at the same time with:

```console
pypp do transpile format
```

At this point you will have a CMake project in the `cpp` directory that you can use. You can do usual cmake commands to build your project. There is also a `pypp` command to help you build the cmake project if that works for your situation:

```console
pypp do build
```

This command just runs `cmake -S . -B build` and `cmake --build build --config Release` together.

There is also a `pypp` command to help you run your generated executable (the executable is called `main` in this example):

```console
pypp do run -e main
```

Or, you can also do the `transpile`, `format`, `build`, and `run` all at the same time with

```console
pypp do transpile format build run -e main
```

## Other commands

There is other `init` commands for initializing projects of the two types of Py++ external libraries, pure-libraries, and bridge-libraries.

```console
pypp init_pure_lib
```

```console
pypp init_brdige_lib
```

There is a `delete_timestamps` command which just removes the `file_timestamps.json` under the `pypp_files` directory. Py++ uses this file to determine which Python files it should transpile to C++. If a file has not been modified since the last transpile, Py++ won't transpile it again. So, deleting the timestamps file will result in Py++ transpiling all your Python files over. This can be useful to do if you have updated your `pypp` version or installed/uninstalled any libraries (you might want to do a fresh transpile).

```console
pypp delete_timestamps
```

## Summary list of commands

- `init`
- `init_pure_lib`
- `init_bridge_lib`
- `do`
- `do_pure_lib`
- `delete_timestamps`

## Usage notes

CLI commands `do`, `do_pure_lib`, and `delete_timestamps` must be run from the Py++ project root (i.e. where there exists a `pypp_files/proj_info.json` file).